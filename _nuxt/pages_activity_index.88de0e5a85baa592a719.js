webpackJsonp([51],{JbzN:function(t,e,n){"use strict";var a=new RegExp("(\\d{4})-(\\d{2})-(\\d{2})([T\\s](\\d{2}):(\\d{2}):(\\d{2})(\\.(\\d{3}))?)?.*"),i={formatDate:function(t,e){/(y+)/.test(e=e||"yyyy-MM-dd")&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));var n={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds()};for(var a in n){var i=n[a]+"";new RegExp("("+a+")").test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?i:s(i)))}return e},toDate:function(t){if(a.test(t)){var e=t.replace(a,function(t,e,n,a,i,s,v,o,c,r){return new Date(e,n-1,a,s||"00",v||"00",o||"00",r||"00").getTime()}),n=new Date;return n.setTime(e),n}return null},compareDate:function(t,e){return new Date(t.replace(/\\-/g,"\\/"))>new Date(e.replace(/\\-/g,"\\/"))},diffTime:function(t){var e=new Date;return this.toDate(t).getTime()-e.getTime()},formatDiffTime:function(t){var e=Math.abs(t),n=Math.floor(e/864e5),a=e%864e5,i=Math.floor(a/36e5),s=a%36e5,v=Math.floor(s/6e4),o=s%6e4,c=Math.round(o/1e3);return n>0?n+"天"+i+"时"+v+"分"+c+"秒":i>0?i+"时"+v+"分"+c+"秒":v>0?v+"分"+c+"秒":c+"秒"}};function s(t){return("00"+t).substr(t.length)}e.a=i},ZZK5:function(t,e,n){(t.exports=n("FZ+f")(!1)).push([t.i,"\n.xinhuo[data-v-7b3ef2eb] {\n  color: #999 !important;\n}\n#activity .card[data-v-7b3ef2eb] {\n  margin-bottom: 0.93333rem;\n}\n#activity .card.noresult[data-v-7b3ef2eb] {\n    padding: 0.4rem !important;\n    background: transparent;\n    padding-left: 6rem !important;\n    padding-top: 10rem !important;\n}\n#activity .card p[data-v-7b3ef2eb] {\n    color: #999 !important;\n}\n#activity .card.noresult[data-v-7b3ef2eb]:not(:first-child) {\n    display: none !important;\n}\n#activity .card .card-content[data-v-7b3ef2eb] {\n    padding: 0.93333rem;\n}\n#activity .card .card-content .media[data-v-7b3ef2eb] {\n      -webkit-box-align: center !important;\n      -webkit-align-items: center !important;\n              align-items: center !important;\n}\n#activity .card .card-content .media .media-content[data-v-7b3ef2eb] {\n        font-size: 12PX !important;\n}\n#activity .card .card-content .media .media-content .name[data-v-7b3ef2eb] {\n          font-size: 0.85333rem;\n}\n#activity .card .card-content .media .media-content .mainPlay[data-v-7b3ef2eb], #activity .card .card-content .media .media-content .info[data-v-7b3ef2eb], #activity .card .card-content .media .media-content .name[data-v-7b3ef2eb] {\n          font-size: 12PX;\n          margin-bottom: 5PX;\n}\n#activity .card .card-content .media .media-content p[data-v-7b3ef2eb] {\n          margin: 0 0 0.4rem;\n}\n#activity .card .card-content .media .media-content p.title[data-v-7b3ef2eb] {\n            color: #252525;\n            font-size: 0.85333rem;\n}\n#activity .card .card-content .media .media-content p.subtitle[data-v-7b3ef2eb] {\n            color: #7A7A7A;\n            font-size: 0.64rem;\n}\n#activity .card .card-content .media .media-content time[data-v-7b3ef2eb] {\n          color: #7A7A7A;\n          font-size: 0.64rem;\n}\n#activity .card .card-content .media .media-button[data-v-7b3ef2eb] {\n        min-width: 75PX;\n        margin-left: 6PX;\n}\n#activity .card .card-content .time[data-v-7b3ef2eb] {\n      margin-top: -12PX;\n      font-size: 12PX;\n}\n#activity .card .card-content .time .endtime[data-v-7b3ef2eb] {\n        width: 63PX;\n        display: inline-block;\n}\n",""])},fU57:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("ryNY"),i=n("zbBB"),s=!1;var v=function(t){s||n("ts4F")},o=n("VU/8")(a.a,i.a,!1,v,"data-v-7b3ef2eb",null);o.options.__file="pages\\activity\\index.vue",e.default=o.exports},ryNY:function(t,e,n){"use strict";var a=n("Dd8w"),i=n.n(a),s=n("//Fk"),v=n.n(s),o=n("NYxO"),c=n("JbzN");n("62+5"),n("IdIt");e.a={layout:"notabbar",fetch:function(t){var e=t.store;return v.a.all([e.dispatch("events/queryListEvents")])},data:function(){return{imgPrefix:"",specialActivityData:[],discountActivityData:[],experienceActivityData:[]}},computed:i()({},Object(o.mapGetters)({getListEvents:"events/getListEvents",isAuthorized:"authorization/isAuthorized"})),methods:{goToNext:function(t,e,n,a,i){if(!this.isAuthorized)return this.$store.commit("authorization/SET_VISIT_PATH","/activity"),this.$router.push({name:"mine-account-sso",query:{login:"true",from:"/activity"}});this.$router.push({name:"activity-signup",query:{id:t,title:e,date:n,eventRule:a,quotaLeft:i}})},isActivityActive:function(t){var e=c.a.toDate(t+":00");return(new Date).getTime()<e.getTime()},isActive:function(t){var e=c.a.toDate(t+":00");return(new Date).getTime()>e.getTime()},joinSkip:function(t,e,n,a){this.$router.push({name:"activity-signupProject",query:{title:t,startTime:e,endTime:n,id:a}})},getEventListLen:function(t){return this.getListEvents.data.filter(function(e){return e.eventType==t}).length}},watch:{init:function(){}}}},ts4F:function(t,e,n){var a=n("ZZK5");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n("rjj0")("4365eda1",a,!1,{sourceMap:!1})},zbBB:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"activity"}},[n("van-nav-bar",{attrs:{"left-arrow":"",title:"活动列表",id:"navbar"},on:{"click-left":function(e){t.$router.back()}}}),n("van-tabs",[n("van-tab",{attrs:{title:"全部"}},[t.getListEvents.data.length?t._l(t.getListEvents.data,function(e,a){return n("div",{key:a,staticClass:"card is-paddingless is-shadowless"},[n("div",{staticClass:"card-image",on:{click:function(n){t.goToNext(e.eventId,e.eventName,e.eventStartTime+"-"+e.eventEndTime,e.eventRule,e.quotaLeft)}}},[n("figure",{staticClass:"image"},[e.imageUrl?n("img",{attrs:{src:t.imgPrefix+e.imageUrl}}):t._e()])]),n("div",{staticClass:"card-content"},[n("div",{staticClass:"media"},[n("div",{staticClass:"media-content",on:{click:function(n){t.goToNext(e.eventId,e.eventName,e.eventStartTime+"-"+e.eventEndTime,e.eventRule,e.quotaLeft)}}},[n("div",{staticClass:"name"},[n("label",[t._v("活动名：")]),n("span",[t._v("\n                                            "+t._s(e.eventName)+"\n                                        ")])]),n("div",{staticClass:"mainPlay"},[n("label",[t._v("主办方：")]),n("span",[t._v("\n                                            "+t._s(e.belongProject)+"\n                                        ")])]),n("div",{staticClass:"info"},[n("label",[t._v("活动地址：")]),n("span",[t._v(t._s(t._f("truncate")(e.eventAddress,10)))])])]),n("div",{staticClass:"media-button"},[e.quotaLeft>0&&e.maxNumber>0&&t.isActivityActive(e.eventEndTime)?n("van-button",{attrs:{type:"danger",size:"small",block:""},on:{click:function(n){t.goToNext(e.eventId,e.eventName,e.eventStartTime+"-"+e.eventEndTime,e.eventRule,e.quotaLeft)}}},[t._v("我要报名")]):t.isActive(e.eventEndTime)?n("van-button",{attrs:{type:"danger",size:"small",block:""},on:{click:function(n){t.goToNext(e.eventId,e.eventName,e.eventStartTime+"-"+e.eventEndTime,e.eventRule,e.quotaLeft)}}},[t._v("已结束")]):n("van-button",{attrs:{type:"danger",size:"small",block:""},on:{click:function(n){t.goToNext(e.eventId,e.eventName,e.eventStartTime+"-"+e.eventEndTime,e.eventRule,e),e.quotaLeft}}},[t._v("查看详情")])],1)]),n("div",{staticClass:"time",on:{click:function(n){t.goToNext(e.eventId,e.eventName,e.eventStartTime+"-"+e.eventEndTime,e.eventRule,e.quotaLeft)}}},[n("label",[t._v("活动时间：")]),n("span",[t._v("\n                                    "+t._s(t._f("formatDateAndMini")(e.eventStartTime))+" 至"),n("br"),n("i",{staticClass:"endtime"}),t._v(t._s(t._f("formatDateAndMini")(e.eventEndTime))+"\n                                ")])])])])}):n("div",{staticClass:"card is-paddingless is-shadowless noresult"},[n("p",[t._v("暂无活动信息，敬请期待")])])],2),n("van-tab",{attrs:{title:"优惠活动"}},[t.getEventListLen("1")>0?t._l(t.getListEvents.data,function(e,a){return"1"===e.eventType?n("div",{key:a,staticClass:"card is-paddingless is-shadowless"},[n("div",{staticClass:"card-image",on:{click:function(n){t.goToNext(e.eventId,e.eventName,e.eventStartTime+"-"+e.eventEndTime,e.eventRule,e.quotaLeft)}}},[n("figure",{staticClass:"image"},[e.imageUrl?n("img",{attrs:{src:t.imgPrefix+e.imageUrl}}):t._e()])]),n("div",{staticClass:"card-content"},[n("div",{staticClass:"media"},[n("div",{staticClass:"media-content",on:{click:function(n){t.goToNext(e.eventId,e.eventName,e.eventStartTime+"-"+e.eventEndTime,e.eventRule,e.quotaLeft)}}},[n("div",{staticClass:"name"},[n("label",[t._v("活动名：")]),n("span",[t._v("\n                                            "+t._s(e.eventName)+"\n                                        ")])]),n("div",{staticClass:"mainPlay"},[n("label",[t._v("主办方：")]),n("span",[t._v("\n                                            "+t._s(e.belongProject)+"\n                                        ")])]),n("div",{staticClass:"info"},[n("label",[t._v("活动地址：")]),n("span",[t._v(t._s(t._f("truncate")(e.eventAddress,10)))])])]),e.quotaLeft>0?n("div",{staticClass:"media-button"},[e.quotaLeft>0&&e.maxNumber>0&&t.isActivityActive(e.eventEndTime)?n("van-button",{attrs:{type:"danger",size:"small",block:""},on:{click:function(n){t.goToNext(e.eventId,e.eventName,e.eventStartTime+"-"+e.eventEndTime,e.eventRule,e.quotaLeft)}}},[t._v("我要报名")]):t.isActive(e.eventEndTime)?n("van-button",{attrs:{type:"danger",size:"small",block:""},on:{click:function(n){t.goToNext(e.eventId,e.eventName,e.eventStartTime+"-"+e.eventEndTime,e.eventRule,e.quotaLeft)}}},[t._v("已结束")]):n("van-button",{attrs:{type:"danger",size:"small",block:""},on:{click:function(n){t.goToNext(e.eventId,e.eventName,e.eventStartTime+"-"+e.eventEndTime,e.eventRule),e.quotaLeft}}},[t._v("查看详情")])],1):t._e()]),n("div",{staticClass:"time",on:{click:function(n){t.goToNext(e.eventId,e.eventName,e.eventStartTime+"-"+e.eventEndTime,e.eventRule,e.quotaLeft)}}},[n("label",[t._v("活动时间：")]),n("span",[t._v("\n                                    "+t._s(t._f("formatDateAndMini")(e.eventStartTime))+" 至"),n("br"),n("i",{staticClass:"endtime"}),t._v(t._s(t._f("formatDateAndMini")(e.eventEndTime))+"\n                                ")])])])]):t._e()}):n("div",{staticClass:"card is-paddingless is-shadowless noresult"},[n("p",[t._v("暂无活动信息，敬请期待~")])])],2),n("van-tab",{attrs:{title:"专题活动"}},[t.getEventListLen("2")>0?t._l(t.getListEvents.data,function(e,a){return"2"===e.eventType?n("div",{key:a,staticClass:"card is-paddingless is-shadowless"},[n("div",{staticClass:"card-image",on:{click:function(n){t.goToNext(e.eventId,e.eventName,e.eventStartTime+"-"+e.eventEndTime,e.eventRule,e.quotaLeft)}}},[n("figure",{staticClass:"image"},[e.imageUrl?n("img",{attrs:{src:t.imgPrefix+e.imageUrl}}):t._e()])]),n("div",{staticClass:"card-content"},[n("div",{staticClass:"media"},[n("div",{staticClass:"media-content",on:{click:function(n){t.goToNext(e.eventId,e.eventName,e.eventStartTime+"-"+e.eventEndTime,e.eventRule,e.quotaLeft)}}},[n("div",{staticClass:"name"},[n("label",[t._v("活动名：")]),n("span",[t._v("\n                                            "+t._s(e.eventName)+"\n                                        ")])]),n("div",{staticClass:"mainPlay"},[n("label",[t._v("主办方：")]),n("span",[t._v("\n                                            "+t._s(e.belongProject)+"\n                                        ")])]),n("div",{staticClass:"info"},[n("label",[t._v("活动地址：")]),n("span",[t._v(t._s(t._f("truncate")(e.eventAddress,10)))])])]),e.quotaLeft>0?n("div",{staticClass:"media-button"},[e.quotaLeft>0&&e.maxNumber>0&&t.isActivityActive(e.eventEndTime)?n("van-button",{attrs:{type:"danger",size:"small",block:""},on:{click:function(n){t.goToNext(e.eventId,e.eventName,e.eventStartTime+"-"+e.eventEndTime,e.eventRule,e.quotaLeft)}}},[t._v("我要报名")]):t.isActive(e.eventEndTime)?n("van-button",{attrs:{type:"danger",size:"small",block:""},on:{click:function(n){t.goToNext(e.eventId,e.eventName,e.eventStartTime+"-"+e.eventEndTime,e.eventRule,e.quotaLeft)}}},[t._v("已结束")]):n("van-button",{attrs:{type:"danger",size:"small",block:""},on:{click:function(n){t.goToNext(e.eventId,e.eventName,e.eventStartTime+"-"+e.eventEndTime,e.eventRule),e.quotaLeft}}},[t._v("查看详情")])],1):t._e()]),n("div",{staticClass:"time"},[n("label",[t._v("活动时间：")]),n("span",[t._v("\n                                    "+t._s(t._f("formatDateAndMini")(e.eventStartTime))+" 至"),n("br"),n("i",{staticClass:"endtime"}),t._v(t._s(t._f("formatDateAndMini")(e.eventEndTime))+"\n                                ")])])])]):t._e()}):n("div",{staticClass:"card is-paddingless is-shadowless noresult"},[n("p",[t._v("暂无活动信息，敬请期待~")])])],2),n("van-tab",{attrs:{title:"体验活动"}},[t.getEventListLen("3")>0?t._l(t.getListEvents.data,function(e,a){return"3"===e.eventType?n("div",{key:a,staticClass:"card is-paddingless is-shadowless"},[n("div",{staticClass:"card-image",on:{click:function(n){t.goToNext(e.eventId,e.eventName,e.eventStartTime+"-"+e.eventEndTime,e.eventRule,e.quotaLeft)}}},[n("figure",{staticClass:"image"},[e.imageUrl?n("img",{attrs:{src:t.imgPrefix+e.imageUrl}}):t._e()])]),n("div",{staticClass:"card-content"},[n("div",{staticClass:"media"},[n("div",{staticClass:"media-content",on:{click:function(n){t.goToNext(e.eventId,e.eventName,e.eventStartTime+"-"+e.eventEndTime,e.eventRule,e.quotaLeft)}}},[n("div",{staticClass:"name"},[n("label",[t._v("活动名：")]),n("span",[t._v("\n                                            "+t._s(e.eventName)+"\n                                        ")])]),n("div",{staticClass:"mainPlay"},[n("label",[t._v("主办方：")]),n("span",[t._v("\n                                            "+t._s(e.belongProject)+"\n                                        ")])]),n("div",{staticClass:"info"},[n("label",[t._v("活动地址：")]),n("span",[t._v(t._s(t._f("truncate")(e.eventAddress,10)))])])]),n("div",{staticClass:"media-button"},[e.quotaLeft>0&&e.maxNumber>0&&t.isActivityActive(e.eventEndTime)?n("van-button",{attrs:{type:"danger",size:"small",block:""},on:{click:function(n){t.goToNext(e.eventId,e.eventName,e.eventStartTime+"-"+e.eventEndTime,e.eventRule),e.quotaLeft}}},[t._v("我要报名")]):t.isActive(e.eventEndTime)?n("van-button",{attrs:{type:"danger",size:"small",block:""},on:{click:function(n){t.goToNext(e.eventId,e.eventName,e.eventStartTime+"-"+e.eventEndTime,e.eventRule,e.quotaLeft)}}},[t._v("已结束")]):n("van-button",{attrs:{type:"danger",size:"small",block:""},on:{click:function(n){t.goToNext(e.eventId,e.eventName,e.eventStartTime+"-"+e.eventEndTime,e.eventRule),e.quotaLeft}}},[t._v("查看详情")])],1)]),n("div",{staticClass:"time",on:{click:function(n){t.goToNext(e.eventId,e.eventName,e.eventStartTime+"-"+e.eventEndTime,e.eventRule,e.quotaLeft)}}},[n("label",[t._v("活动时间：")]),n("span",[t._v("\n                                    "+t._s(t._f("formatDateAndMini")(e.eventStartTime))+" 至"),n("br"),n("i",{staticClass:"endtime"}),t._v(t._s(t._f("formatDateAndMini")(e.eventEndTime))+"\n                                ")])])])]):t._e()}):n("div",{staticClass:"card is-paddingless is-shadowless noresult"},[n("p",{staticClass:"xinhuo"},[t._v("暂无活动信息，敬请期待~")])])],2)],1)],1)};a._withStripped=!0;var i={render:a,staticRenderFns:[]};e.a=i}});