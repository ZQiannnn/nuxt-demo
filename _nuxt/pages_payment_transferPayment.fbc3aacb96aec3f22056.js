webpackJsonp([53],{NHit:function(t,e,n){var a=n("XJer");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n("rjj0")("eedce472",a,!1,{sourceMap:!1})},Rg0Z:function(t,e,n){"use strict";(function(t){var a=n("woOf"),s=n.n(a),o=n("Dd8w"),r=n.n(o),i=n("NYxO");e.a={layout:"notabbar",data:function(){return{paymentMethod:[{title:"银联支付",code:"bank"},{title:"线下支付",code:"offline"}],payment:{bankAccount:null,phoneNumber:null,smsCode:null,sales:null},checked:!0,selected:"bank",payByBank:!1,formHtml:""}},computed:r()({},Object(i.mapGetters)({getOrderResponse:"orders/getTransferOrderResponse",getTempSales:"salesconsultant/getTempSales"}),{getSalesByDefault:function(){this.payment.sales=t.head(this.sales)},orderPrice:function(){if(!this.getOrderResponse||!this.getOrderResponse.data)return 0;var t=this.getOrderResponse.data;return(t.roomMakeupAmount?parseInt(t.roomMakeupAmount):0)+(t.carportMakeupAmount?parseInt(t.carportMakeupAmount):0)}}),methods:{changeMethod:function(t){s()(this.$data,this.$options.data()),this.payByBank=t.code===this.selected,this.selected=t.code},pay:function(){var t=this;if(this.getOrderResponse&&this.getOrderResponse.data){var e=this.getOrderResponse.data,n={orderId:e.depositOrderId,orderType:"RG_ORDER",device:"Mobile",paymentMethod:"UNIONPAY",returnUrl:"http://"+location.host+"/payment/success?orderId="+e.depositOrderId};this.$store.dispatch("payment/pay",n).then(function(e){if("true"!==e.success)return"SYS_ERR_000"===e.errorCode?void 0:void t.$toast(e.exception||"支付失败");t.formHtml=e.data.htmlPayForm,setTimeout(function(){document.all.pay_form.submit()},1e3)}).catch(function(e){t.$toast(e||"支付失败")})}else this.$toast("订单创建失败")}},created:function(){this.$toast.clear()}}}).call(e,n("M4fF"))},TuAf:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"payment"}},[n("van-nav-bar",{attrs:{"left-arrow":"",title:"立即支付",id:"navbar"},on:{"click-left":function(e){t.$router.back()}}}),n("div",{staticClass:"button-section"},t._l(t.paymentMethod,function(e,a){return n("van-button",{key:a,attrs:{type:e.code===t.selected?"warning":"default",size:"small"},on:{click:function(n){t.changeMethod(e)}}},[t._v(t._s(e.title))])})),n("van-cell-group",[[n("van-cell",{staticClass:"is-highlighted",attrs:{title:"认购金",value:t.orderPrice}})],n("van-cell",{attrs:{title:"销售顾问",value:t.getTempSales.salesName}})],2),n("div",{staticClass:"button-section"},[n("van-cell-group",[n("van-cell",[n("van-checkbox",{attrs:{slot:"icon"},slot:"icon",model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}}),n("p",{attrs:{slot:"title"},slot:"title"},[t._v("\n\t\t\t\t\t我已认真阅读并确认\n\t\t\t\t\t"),n("nuxt-link",{staticClass:"content-title",attrs:{to:{name:"cms-slug",params:{slug:"认购须知"},query:{code:"SYS_RGXZ_MOB"}}}},[t._v("\n\t\t\t\t\t\t《认购须知》\n\t\t\t\t\t")])],1)],1)],1),n("van-button",{attrs:{type:"danger",size:"large"},on:{click:t.pay}},[t._v("下一步")])],1),n("div",{domProps:{innerHTML:t._s(t.formHtml)}})],1)};a._withStripped=!0;var s={render:a,staticRenderFns:[]};e.a=s},XJer:function(t,e,n){(t.exports=n("FZ+f")(!1)).push([t.i,"\n#payment span.price[data-v-184bbee2] {\n  display: block;\n  width: 50%;\n  text-align: center;\n}\n#payment span.price span[data-v-184bbee2] {\n    color: #ba1c28;\n    font-weight: bold;\n}\n#payment .button-section[data-v-184bbee2] {\n  padding: 15PX;\n}\n#payment .button-section[data-v-184bbee2]:last-child {\n    padding: 0 !important;\n    margin-top: 35PX;\n}\n#payment .button-section button[data-v-184bbee2] {\n    margin-right: 15PX;\n}\n",""])},uSkr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("Rg0Z"),s=n("TuAf"),o=!1;var r=function(t){o||n("NHit")},i=n("VU/8")(a.a,s.a,!1,r,"data-v-184bbee2",null);i.options.__file="pages\\payment\\transferPayment.vue",e.default=i.exports}});