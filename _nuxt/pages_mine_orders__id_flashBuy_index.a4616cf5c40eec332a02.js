webpackJsonp([66],{"2NXI":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s("fvs7"),a=s("5Cgv"),n=!1;var o=function(e){n||s("e48V")},i=s("VU/8")(r.a,a.a,!1,o,"data-v-25b76e02",null);i.options.__file="pages\\mine\\orders\\_id\\flashBuy\\index.vue",t.default=i.exports},"5Cgv":function(e,t,s){"use strict";var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"mine-orders-subscribe"}},[s("van-cell-group",{staticClass:"header"},[s("van-cell",[s("template",{slot:"title"},[s("h3",{staticClass:"title-description"},[e._v("订单编号: "+e._s(e.subscribeResult.orderId))]),s("p",{staticClass:"date"},[e._v("时间: "+e._s(e.subscribeResult.createTime))])]),s("template",{slot:"right-icon"},[s("span",{staticClass:"has-text-danger has-text-weight-bold"},[e._v(e._s(e._f("worldFormat")(e.subscribeResult.orderStatus)))])])],2)],1),s("van-cell-group",{staticClass:"header-project"},[s("van-cell",{attrs:{title:""+e.subscribeResult.projectName}})],1),s("van-cell-group",{staticClass:"list"},[s("van-cell",{attrs:{title:"房号",value:""+e.subscribeResult.room.building+e.subscribeResult.room.floor+"层"+(e.subscribeResult.room&&e.subscribeResult.room.name)}})],1),s("van-cell-group",{staticClass:"list"},[s("van-cell",{attrs:{title:"建筑面积(约)",value:e.subscribeResult.room.bldArea+"m²"}})],1),s("van-cell-group",{staticClass:"list"},[s("van-cell",{attrs:{title:"秒杀总价",value:e.subscribeResult.totalPrice+"元"}})],1),s("van-cell-group",{staticClass:"list"},[s("van-cell",{attrs:{title:"认购金",value:e.subscribeResult.orderPrice+"元"}})],1),s("van-cell-group",{staticClass:"list"},[s("van-cell",{attrs:{title:"销售顾问",value:""+e.subscribeResult.salesMan.salesName}})],1),"UNPAID"===e.subscribeResult.orderStatus?s("div",{staticClass:"payBtn"},[s("van-button",{attrs:{size:"large"},on:{click:e.gotoPay}},[e._v("立即付款")])],1):e._e(),s("div",{domProps:{innerHTML:e._s(e.htmlPayForm)}})],1)};r._withStripped=!0;var a={render:r,staticRenderFns:[]};t.a=a},aQko:function(e,t,s){(e.exports=s("FZ+f")(!1)).push([e.i,"\n#mine-orders-child .header[data-v-25b76e02] {\n  margin-bottom: 15PX;\n}\n#mine-orders-child .header-project .van-cell[data-v-25b76e02] {\n  color: #BA1C28;\n}\n#mine-orders-child .title-description[data-v-25b76e02], #mine-orders-child .date[data-v-25b76e02] {\n  color: #7A7A7A;\n  font-size: 14PX;\n}\n#mine-orders-child span.has-text-danger[data-v-25b76e02] {\n  color: #C40224 !important;\n  font-size: 14PX;\n}\n#mine-orders-subscribe .list[data-v-25b76e02] {\n  margin-bottom: 0.53333rem;\n}\n#mine-orders-subscribe .payBtn[data-v-25b76e02] {\n  padding: 0.8rem;\n}\n#mine-orders-subscribe .payBtn .van-button--default[data-v-25b76e02] {\n    background: #BA1C28;\n    color: #fff;\n    border-radius: 4px;\n}\n",""])},e48V:function(e,t,s){var r=s("aQko");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);s("rjj0")("6354e6b2",r,!1,{sourceMap:!1})},fvs7:function(e,t,s){"use strict";var r=s("Dd8w"),a=s.n(r),n=s("Xxa5"),o=s.n(n),i=s("//Fk"),l=s.n(i),u=s("d7EF"),c=s.n(u),d=s("exGp"),p=s.n(d),b=s("NYxO"),v=s("62+5"),m=s("IdIt");t.a={asyncData:function(){var e=p()(o.a.mark(function e(t){var s,r,a,n,i,u,d;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.route.params.status,r=t.route.params.id,a=t.store.getters["authorization/getUserLoginResponse"].data.token,t.store.getters["authorization/getUserLoginResponse"].data.userId,e.next=6,l.a.all([v.a.getRequest(m.a.order.flashbuyOrderDetail(r),{},a)]);case 6:return n=e.sent,i=c()(n,1),u=i[0],d=void 0===u?{}:u,e.abrupt("return",{subscribeResult:d.data||{},purchasePlan:d.data.purchasePlan||{},carport:d.data.carport||{},paystatus:s,orderId:r});case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),created:function(){},computed:a()({},Object(b.mapGetters)({getUserInfoResponse:"authorization/getUserInfoResponse"})),data:function(){return{subscribeOrderDetails:this.subscribeResult,htmlPayForm:""}},methods:{gotoPay:function(){var e=this,t=this,s=t.$store.getters["authorization/getUserLoginResponse"].data.token,r=t.getUserInfoResponse.userId;this.$store.dispatch("payment/pay",{orderId:t.orderId,OrderyType:"RG_ORDER",device:"Mobile",paymentMethod:"UNIONPAY",returnUrl:"http://"+location.host+"/payment/success1?orderId="+t.orderId+"&userId="+r+"&token="+s}).then(function(s){s&&"true"==s.success?(t.htmlPayForm=s.data.htmlPayForm,setTimeout(function(){document.all.pay_form.submit()},1e3)):e.$toast(s.exception||"购买失败")})}},filters:{worldFormat:function(e){var t="";return"UNPAID"==e?t="未付认购金":"PAID"==e?t="已付认购金":"CLOSE"==e&&(t="超时未付款关闭"),t},payTypeFormat:function(e){var t="";return"OFFLINE"==e?t="线下支付":"UNIONPAY"==e?t="银联支付":"ALIPAY"==e?t="支付宝":"WECHAT"==e&&(t="微信支付"),t}}}}});