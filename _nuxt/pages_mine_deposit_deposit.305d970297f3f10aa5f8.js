webpackJsonp([71],{"6kcl":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("ltIt"),a=n("JXu3"),r=!1;var i=function(t){r||n("zCaQ")},s=n("VU/8")(o.a,a.a,!1,i,"data-v-1fce937d",null);s.options.__file="pages\\mine\\deposit\\deposit.vue",e.default=s.exports},"7CoY":function(t,e,n){(t.exports=n("FZ+f")(!1)).push([t.i,"\n.deposit[data-v-1fce937d] {\n  background: #fff;\n  margin-top: 5PX;\n  padding: 20PX 0 40PX;\n}\n.deposit .title[data-v-1fce937d] {\n    font-size: 16PX;\n    color: #BA1C28;\n    text-indent: 20PX;\n    margin-bottom: 15PX;\n}\n.deposit input[data-v-1fce937d] {\n    background: #f4f4f4;\n    line-height: 45PX;\n    border: none;\n    margin-left: 14PX;\n    width: 314PX;\n    margin-right: 10PX;\n    font-size: 14PX;\n    text-indent: 15PX;\n}\nbutton[data-v-1fce937d] {\n  width: 80%;\n  margin: 0 auto;\n  display: inherit;\n  margin-top: 1.06667rem;\n  color: #fff;\n  background: #BA1C28;\n  border: 0;\n  line-height: 45PX;\n}\n",""])},JXu3:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("van-nav-bar",{attrs:{"left-arrow":"",title:"充值",id:"navbar"},on:{"click-left":function(e){t.$router.back()}}}),n("div",{staticClass:"deposit"},[n("p",{staticClass:"title"},[t._v("充值金额")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.amount,expression:"amount"}],attrs:{placeholder:"请输入金额",type:"number"},domProps:{value:t.amount},on:{input:function(e){e.target.composing||(t.amount=e.target.value)}}}),t._v("元\n    ")]),n("button",{attrs:{size:"large"},on:{click:t.nextPay}},[t._v("下一步")]),n("div",{domProps:{innerHTML:t._s(t.htmlPayForm)}})],1)};o._withStripped=!0;var a={render:o,staticRenderFns:[]};e.a=a},ltIt:function(t,e,n){"use strict";var o=n("Dd8w"),a=n.n(o),r=n("NYxO"),i=n("62+5"),s=n("IdIt");e.a={name:"",middleware:"authorizationRequired",data:function(){return{amount:"",htmlPayForm:""}},computed:a()({},Object(r.mapGetters)({getUserInfoResponse:"authorization/getUserInfoResponse"})),methods:{nextPay:function(){var t=this;if(this.amount)if(isNaN(this.amount))this.$toast("请先填写正确的金额");else{var e=this.$store.getters["authorization/getUserLoginResponse"].data.token,n=this.getUserInfoResponse.userId,o=this;i.a.postRequest(s.a.deposit.depositPay,{amount:this.amount},e).then(function(a){var r=a.data.orderId,i="";if(o.$route.query.from){var s=o.$route.query.from,d=o.$route.query.id;i="http://"+location.host+"/payment/success1?orderId="+r+"&userId="+n+"&token="+e+"&from="+s+"&id="+d}else i="http://"+location.host+"/payment/success1?orderId="+r+"&userId="+n+"&token="+e;t.$store.dispatch("payment/pay",{orderId:r,OrderyType:"DEOPSIT_ORDER",device:"Mobile",paymentMethod:"UNIONPAY",returnUrl:i}).then(function(t){o.htmlPayForm=t.data.htmlPayForm,setTimeout(function(){document.all.pay_form.submit()},1e3)})})}else this.$toast("请先填写充值金额")}}}},zCaQ:function(t,e,n){var o=n("7CoY");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);n("rjj0")("59e4f26f",o,!1,{sourceMap:!1})}});