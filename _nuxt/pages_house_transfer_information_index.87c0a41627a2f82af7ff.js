webpackJsonp([79],{"/oYf":function(e,t,i){var o=i("ZnK4");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);i("rjj0")("ea33e0fa",o,!1,{sourceMap:!1})},HlaU:function(e,t,i){"use strict";(function(e){var o=i("Dd8w"),r=i.n(o),s=i("NYxO"),a=i("62+5"),n=i("IdIt");t.a={layout:"notabbar",middleware:["authorizationRequired","orderChecking"],computed:r()({},Object(s.mapGetters)({getTempSubscribeRoomList:"tempSubscribe/getTempSubscribeRoomList",getTempSubscribeParkingList:"tempSubscribe/getTempSubscribeParkingList",getHouseDetails:"house/getHouseDetails",isAuthentication:"authorization/isAuthentication",getUserInfoResponse:"authorization/getUserInfoResponse"}),{getRoomTitle:function(){return this.getTempSubscribeRoomList.length?e.head(this.getTempSubscribeRoomList).title:""},getCarTitle:function(){return this.getTempSubscribeParkingList.length?e.head(this.getTempSubscribeParkingList).title:""}}),methods:{goToNextStep:function(){var e=void 0;if(this.getTempSubscribeRoomList.length){var t=this.getTempSubscribeRoomList[0];if(t.isOpen)return void this._open(t);e="house-transfer-room-proposal"}else e="house-transfer-parking-proposal";this.$router.push({name:e,query:{id:this.$route.query.id,type:"transfer",path:"/house/transfer/"}})},_open:function(t){var i=this,o=(this.$store.getters["salesconsultant/getTempSales"]||"").salesId,r=e.head(e.filter(this.$store.getters["house/getHouseDetails"].buildings,{bldId:t.buildingId})).paymentMethod,s=e.head(r),u=s.payFormID,c=(s.payFormType,this.$store.getters["authorization/getUserLoginResponse"].data.token),d=this.getUserInfoResponse.userId;this.$options.methods.toastLoading.bind(this)("订单创建中"),a.a.postRequest(n.a.order.caculatePrice,{projectId:this.$route.query.id||"",buildingId:t.buildingId||"XXX",apartmentId:t.apartmentId||"",salesId:o,paymentMethod:u},c).then(function(e){if("true"!=e.success)return"SYS_ERR_000"==e.errorCode?void 0:void i.$toast(e.exception||"生成置业计划书失败");var r=e.data.roomPurchasePlanPk;a.a.postRequest(n.a.order.transferOrder,{userId:d,originOrderId:t.originOrderId,projectId:i.$route.query.id||"",buildingId:t.buildingId||"XXX",apartmentId:t.apartmentId||"",carportsNumber:"",salesId:o,paymentPlanIdRoom:r,paymentPlanIdCarports:""},c).then(function(e){if("true"!=e.success)return"SYS_ERR_000"==e.errorCode?void 0:void i.$toast(e.exception||"创建订单失败");i.$toast("创建订单成功"),setTimeout(function(){i.$router.push({path:"/mine/orders",query:{name:"我的订单"}})},1e3)}).catch(function(e){i.$toast(res2.exception||"创建订单失败")})}).catch(function(e){i.$toast(e.message||"生成置业计划书失败")})},toastLoading:function(e){this.$toast.loading({mask:!1,duration:0,forbidClick:!0,message:e})}}}}).call(t,i("M4fF"))},ZnK4:function(e,t,i){(e.exports=i("FZ+f")(!1)).push([e.i,"\n#house-subscribe-information .button-section[data-v-a96e5f5a] {\n  margin: 50PX 35PX 0;\n}\n",""])},"h/yr":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i("HlaU"),r=i("kqrG"),s=!1;var a=function(e){s||i("/oYf")},n=i("VU/8")(o.a,r.a,!1,a,"data-v-a96e5f5a",null);n.options.__file="pages\\house\\transfer\\information\\index.vue",t.default=n.exports},kqrG:function(e,t,i){"use strict";var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"house-subscribe-information"}},[i("van-nav-bar",{attrs:{"left-arrow":"",title:"认购信息",id:"navbar"},on:{"click-left":function(t){e.$router.back()}}}),i("van-cell-group",[i("van-cell",{attrs:{title:"楼盘",value:e.getHouseDetails.name}}),""!==e.getRoomTitle?i("van-cell",{attrs:{title:"房号",value:e.getRoomTitle}}):e._e(),""!==e.getCarTitle?i("van-cell",{attrs:{title:"车位",value:e.getCarTitle}}):e._e()],1),i("div",{staticClass:"button-section"},[i("van-button",{attrs:{type:"danger",size:"normal",block:""},on:{click:e.goToNextStep}},[e._v("确认")])],1)],1)};o._withStripped=!0;var r={render:o,staticRenderFns:[]};t.a=r}});